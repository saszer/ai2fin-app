# Wazuh Dashboard Configuration
# OpenSearch Dashboards configuration for Wazuh Dashboard
# Single-node setup for Fly.io
# embracingearth.space
#
# SIMPLIFIED ARCHITECTURE: Dashboard binds directly to port 5601 (no nginx proxy)
# This ensures Fly.io can detect the service during deployment scan
# Health checks will fail during startup (15-20 min) but will pass once Dashboard is ready

server.host: "::"
server.port: 5601  # Dashboard UI (direct binding for Fly.io)

# OpenSearch connection with authentication
# Using HTTPS for secure communication with Indexer
opensearch.hosts: ["https://localhost:9200"]
opensearch.ssl.verificationMode: none
opensearch.ssl.certificateAuthorities: ["/etc/wazuh-indexer/certs/root-ca.pem"]

# Dashboard user for OpenSearch connection
# Using kibanaserver user (created by default, password: kibanaserver)
# This avoids issues with admin password being hashed by securityadmin
opensearch.username: "kibanaserver"
opensearch.password: "kibanaserver"

# Performance settings - increased timeouts for stability
opensearch.shardTimeout: 60000
opensearch.requestTimeout: 60000
opensearch.pingTimeout: 30000

# Request headers whitelist
opensearch.requestHeadersWhitelist: ["securitytenant","Authorization"]
