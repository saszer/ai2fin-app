# Wazuh Dashboard Configuration
# OpenSearch Dashboards configuration for Wazuh Dashboard
# Single-node setup for Fly.io
# embracingearth.space
#
# Nginx proxy architecture: nginx listens on 5601 (Fly `internal_port`) and proxies UI to Dashboard on 5602
# This avoids Fly routing/health-check issues during slow startup and keeps a stable public entrypoint.

server.host: "::"
server.port: 5602  # Dashboard UI (proxied by nginx on 5601)

# OpenSearch connection with authentication
# Using HTTPS for secure communication with Indexer
opensearch.hosts: ["https://localhost:9200"]
opensearch.ssl.verificationMode: none
opensearch.ssl.certificateAuthorities: ["/etc/wazuh-indexer/certs/root-ca.pem"]

# Dashboard user for OpenSearch connection
# Using kibanaserver user (created by default, password: kibanaserver)
# This avoids issues with admin password being hashed by securityadmin
opensearch.username: "kibanaserver"
opensearch.password: "kibanaserver"

# Performance settings - increased timeouts for stability
opensearch.shardTimeout: 60000
opensearch.requestTimeout: 60000
opensearch.pingTimeout: 30000

# Request headers whitelist
opensearch.requestHeadersWhitelist: ["securitytenant","Authorization"]
